{ 
  "activeTrainings" : ["phiTraining"],
  "activeReweightings" : [],
  "inputFile": "file:/afs/desy.de/user/r/rfriese/xxl/puppet/CMSSW_7_4_4_patch4/src/JMEAnalysis/JMEValidator/test/output_mc.root",
  "flattenpT" :
  {
  	  "desc" : "Weight to get flat pT distribution",
  	  "name" : "flatPtWeight",
  	  "folder" : "Flat",
  	  "flattenVariable" : "z_pT",
  	  "weight" : "1",
  	  "eventsPerBin" : 1000,
  	  "type" : 1
  },
  "phiTraining":
  {
  	  "mode" : 1,
  	  "friends" : [],
  	  "desc" : "First training on phi",
  	  "apply_MVA_to" : "particleFlow",
  	  "weight" : "1",
  	  "name" : "PhiCor",
  	  "folder" : "met_chs/t",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 2.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "PhiCorrection_mvaPUPPET.root",
  	  "targetVariable" : "p4.p4.fCorrdinates.fPhi",
  	  "trainingVariables" : 
  	  [ "p4.p4.fCoordinates.fPhi"
  	  ]
  },
  "recoilTraining":
  {
  	  "mode" : 2,
  	  "friends" : ["PhiCor", "flatPtWeight"],
  	  "desc" : "Second training on Recoil",
  	  "apply_MVA_to" : "PhiCor",
  	  "weight" : "flatPtWeight",
  	  "name" : "RecoilCor",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "RecoilCor_13TeV.root",
  	  "targetVariable" : "-z_pT/PhiCor_Upar",
  	  "trainingVariables" : 
  	  [ "PhiCor_UPhi",
    	"particleFlow_U", 
    	"particleFlow_SumET", 
    	"particleFlow_UPhi",
    	"track_SumET", 
    	"track_U",
    	"track_UPhi",
    	"noPileUp_SumET",
    	"noPileUp_U", 
    	"noPileUp_UPhi",
    	"pileUp_SumET",
    	"pileUp_MET",
    	"pileUp_METPhi",
    	"pileUpCorrected_SumET",
    	"pileUpCorrected_U",
    	"pileUpCorrected_UPhi",
    	"jet1_pT",
    	"jet1_eta",
    	"jet1_Phi",
    	"jet2_pT",
    	"jet2_eta",
    	"jet2_Phi",
    	"nJets",
    	"nPV",
    	"numJetsPtGt30"
  	  ]
  },
  "Cov1Training":
  {
  	  "mode" : 3,
  	  "friends" : ["RecoilCor"],
  	  "desc" : "Third training CovU1",
  	  "apply_MVA_to" : "RecoilCor",
  	  "weight" : "z_pT/RecoilCor_U<5",
  	  "name" : "CovU1",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.2,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "CovU1_13TeV.root",
  	  "targetVariable" : "abs(z_pT*cos(z_Phi-RecoilCor_UPhi)-RecoilCor_U)/RecoilCor_U*sqrt(TMath::Pi()/2.)",
  	  "trainingVariables" : 
  	  [ "particleFlow_U", 
    	"particleFlow_SumET", 
    	"particleFlow_UPhi",
    	"track_SumET", 
    	"track_U",
    	"track_UPhi",
    	"noPileUp_SumET",
    	"noPileUp_U", 
    	"noPileUp_UPhi",
    	"pileUp_SumET",
    	"pileUp_MET",
    	"pileUp_METPhi",
    	"pileUpCorrected_SumET",
    	"pileUpCorrected_U",
    	"pileUpCorrected_UPhi",
    	"jet1_pT",
    	"jet1_eta",
    	"jet1_Phi",
    	"jet2_pT",
    	"jet2_eta",
    	"jet2_Phi",
    	"nJets",
    	"nPV",
    	"numJetsPtGt30",
    	"RecoilCor_U",
    	"RecoilCor_UPhi"
  	  ]
  },
  "Cov2Training":
  {
  	  "mode" : 3,
  	  "friends" : ["RecoilCor"],
  	  "desc" : "Third training CovU1",
  	  "apply_MVA_to" : "RecoilCor",
  	  "weight" : "z_pT/RecoilCor_U<5",
  	  "name" : "CovU2",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.2,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "CovU2_13TeV.root",
  	  "targetVariable" : "abs(z_pT*sin(z_Phi-RecoilCor_UPhi))*sqrt(TMath::Pi()/2.)/RecoilCor_U",
  	  "trainingVariables" : 
  	  [ "particleFlow_U", 
    	"particleFlow_SumET", 
    	"particleFlow_UPhi",
    	"track_SumET", 
    	"track_U",
    	"track_UPhi",
    	"noPileUp_SumET",
    	"noPileUp_U", 
    	"noPileUp_UPhi",
    	"pileUp_SumET",
    	"pileUp_MET",
    	"pileUp_METPhi",
    	"pileUpCorrected_SumET",
    	"pileUpCorrected_U",
    	"pileUpCorrected_UPhi",
    	"jet1_pT",
    	"jet1_eta",
    	"jet1_Phi",
    	"jet2_pT",
    	"jet2_eta",
    	"jet2_Phi",
    	"nJets",
    	"nPV",
    	"numJetsPtGt30",
    	"RecoilCor_U",
    	"RecoilCor_UPhi"
  	  ]
  },
  "CovApply" : {
    	"mode" : -1,
    	"friends" : ["RecoilCor", "CovU1", "CovU2"],
    	"desc" : "Covariance Matrix",
    	"apply_MVA_to" : "RecoilCor",
    	"name" : "CovApply"
  }

}
