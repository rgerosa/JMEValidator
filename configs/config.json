{ 
  "activeTrainings" : ["phiTraining", "recoilTraining", "CovU1", "CovU2", "CovApply"],
  "activeReweightings" : ["flattenpT"],
  "inputFile": "../output7.root",
  "Folder" : "PUPPET/t",
  "flattenpT" :
  {
  	  "desc" : "Weight to get flat pT distribution",
  	  "name" : "flatPtWeight",
  	  "flattenVariable" : "Boson_Pt",
  	  "weight" : "Boson_daughter==13",
  	  "eventsPerBin" : 1000,
  	  "type" : 1
  },
  "phiTraining":
  {
  	  "mode" : 1,
  	  "friends" : [],
  	  "desc" : "First training on phi",
  	  "apply_MVA_to" : "recoilslimmedMETs",
  	  "weight" : "Boson_daughter==13",
  	  "name" : "PhiCorrectedRecoil",
  	  "folder" : "PUPPET/t",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 2.0,
  	  "nTrees" : 3,
  	  "weightfilename" : "PhiCorection.root",
  	  "targetVariable" : "(Boson_Phi-recoilslimmedMETs_Phi+TMath::Pi()) - 2.*TMath::Pi()*((Boson_Phi-recoilslimmedMETs_Phi) > 0)",
  	  "trainingVariables" : 
  	  [	
		"recoilslimmedMETs_Pt",
		"recoilslimmedMETs_Phi",
		"recoilslimmedMETs_sumEt",
		"recoilslimmedMETs_Cov00",
		"recoilslimmedMETs_Cov11",
		"recoilslimmedMETsPuppi_Pt",
		"recoilslimmedMETsPuppi_Phi",
		"recoilslimmedMETsPuppi_sumEt",
		"recoilpatpfTrackMET_Pt",
		"recoilpatpfTrackMET_Phi",
		"recoilpatpfTrackMET_sumEt",
		"recoilpatpfPUMET_Pt",
		"recoilpatpfPUMET_Phi",
		"recoilpatpfPUMET_sumEt",
		"recoilpatpfNoPUMET_Pt",
		"recoilpatpfNoPUMET_Phi",
		"recoilpatpfNoPUMET_sumEt",
		"Jet1_Pt", "Jet1_Eta", 
		"Jet2_Pt", "Jet2_Eta",
		"NCleanedJets",
		"NVertex"
		]
  },
  "recoilTraining":
  {
  	  "mode" : 2,
  	  "friends" : ["PhiCorrectedRecoil"],
  	  "desc" : "Second training on Recoil",
  	  "apply_MVA_to" : "PhiCorrectedRecoil",
  	  "weight" : "(Boson_daughter==13)*flatPtWeight",
  	  "name" : "LongZCorrectedRecoil",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 3,
  	  "weightfilename" : "RecoilCorrection.root",
  	  "targetVariable" : "-Boson_Pt/PhiCorrectedRecoil_LongZ",
  	  "trainingVariables" : 
  	  [	
		"PhiCorrectedRecoil_Phi",
		"recoilslimmedMETs_Pt",
		"recoilslimmedMETs_Phi",
		"recoilslimmedMETs_sumEt",
		"recoilslimmedMETs_Cov00",
		"recoilslimmedMETs_Cov11",
		"recoilslimmedMETsPuppi_Pt",
		"recoilslimmedMETsPuppi_Phi",
		"recoilslimmedMETsPuppi_sumEt",
		"recoilpatpfTrackMET_Pt",
		"recoilpatpfTrackMET_Phi",
		"recoilpatpfTrackMET_sumEt",
		"recoilpatpfPUMET_Pt",
		"recoilpatpfPUMET_Phi",
		"recoilpatpfPUMET_sumEt",
		"recoilpatpfNoPUMET_Pt",
		"recoilpatpfNoPUMET_Phi",
		"recoilpatpfNoPUMET_sumEt",
		"Jet1_Pt", "Jet1_Eta", 
		"Jet2_Pt", "Jet2_Eta",
		"NCleanedJets",
		"NVertex"
		]
  },
  "CovU1":
  {
  	  "mode" : 3,
  	  "friends" : ["LongZCorrectedRecoil"],
  	  "desc" : "Cov1 training",
  	  "apply_MVA_to" : "LongZCorrectedRecoil",
  	  "weight" : "(Boson_daughter==13)",
  	  "name" : "CovU1",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 3,
  	  "weightfilename" : "Cov1.root",
  	  "targetVariable" : "std::abs(Boson_Pt*cos(Boson_Phi-LongZCorrectedRecoil_LongZ)-LongZCorrectedRecoil_Pt)/LongZCorrectedRecoil_Pt*sqrt(TMath::Pi()/2.)",
  	  "trainingVariables" : 
  	  [	
		"LongZCorrectedRecoil_Phi",
		"LongZCorrectedRecoil_Pt",
		"recoilslimmedMETs_Pt",
		"recoilslimmedMETs_Phi",
		"recoilslimmedMETs_sumEt",
		"recoilslimmedMETs_Cov00",
		"recoilslimmedMETs_Cov11",
		"recoilslimmedMETsPuppi_Pt",
		"recoilslimmedMETsPuppi_Phi",
		"recoilslimmedMETsPuppi_sumEt",
		"recoilpatpfTrackMET_Pt",
		"recoilpatpfTrackMET_Phi",
		"recoilpatpfTrackMET_sumEt",
		"recoilpatpfPUMET_Pt",
		"recoilpatpfPUMET_Phi",
		"recoilpatpfPUMET_sumEt",
		"recoilpatpfNoPUMET_Pt",
		"recoilpatpfNoPUMET_Phi",
		"recoilpatpfNoPUMET_sumEt",
		"Jet1_Pt", "Jet1_Eta", 
		"Jet2_Pt", "Jet2_Eta",
		"NCleanedJets",
		"NVertex"
		]
  },
  "CovU2":
  {
  	  "mode" : 3,
  	  "friends" : ["LongZCorrectedRecoil"],
  	  "desc" : "Cov2 training",
  	  "apply_MVA_to" : "LongZCorrectedRecoil",
  	  "weight" : "(Boson_daughter==13)",
  	  "name" : "CovU2",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 3,
  	  "weightfilename" : "Cov2.root",
  	  "targetVariable" : "abs(Boson_Pt*sin(Boson_Phi-LongZCorrectedRecoil_Phi))*sqrt(TMath::Pi()/2.)/LongZCorrectedRecoil_Pt",
  	  "trainingVariables" : 
  	  [	
		"LongZCorrectedRecoil_Phi",
		"LongZCorrectedRecoil_Pt",
		"recoilslimmedMETs_Pt",
		"recoilslimmedMETs_Phi",
		"recoilslimmedMETs_sumEt",
		"recoilslimmedMETs_Cov00",
		"recoilslimmedMETs_Cov11",
		"recoilslimmedMETsPuppi_Pt",
		"recoilslimmedMETsPuppi_Phi",
		"recoilslimmedMETsPuppi_sumEt",
		"recoilpatpfTrackMET_Pt",
		"recoilpatpfTrackMET_Phi",
		"recoilpatpfTrackMET_sumEt",
		"recoilpatpfPUMET_Pt",
		"recoilpatpfPUMET_Phi",
		"recoilpatpfPUMET_sumEt",
		"recoilpatpfNoPUMET_Pt",
		"recoilpatpfNoPUMET_Phi",
		"recoilpatpfNoPUMET_sumEt",
		"Jet1_Pt", "Jet1_Eta", 
		"Jet2_Pt", "Jet2_Eta",
		"NCleanedJets",
		"NVertex"
		]
  },
  "CovApply" : {
    	"mode" : -1,
    	"friends" : ["LongZCorrectedRecoil", "CovU1", "CovU2"],
    	"desc" : "Covariance Matrix",
    	"apply_MVA_to" : "LongZCorrectedRecoil",
    	"name" : "CovApply"
  }

}
