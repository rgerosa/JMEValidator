{ 
  "activeTrainings" : ["phiTraining", "recoilTraining"],
  "activeReweightings" : ["flattenpT"],
  "inputFile": "output_mc.root",
  "Folder" : "PUPPET/t",
  "flattenpT" :
  {
  	  "desc" : "Weight to get flat pT distribution",
  	  "name" : "flatPtWeight",
  	  "flattenVariable" : "Boson_Pt",
  	  "weight" : "Boson_daughter==13",
  	  "eventsPerBin" : 100,
  	  "type" : 1
  },
  "phiTraining":
  {
  	  "mode" : 1,
  	  "friends" : [],
  	  "desc" : "First training on phi",
  	  "apply_MVA_to" : "recoilPFPuppiMet",
  	  "weight" : "Boson_daughter==13",
  	  "name" : "PhiCorrectedRecoil",
  	  "folder" : "PUPPET/t",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 2.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "PhiCorection_PUPPI.root",
  	  "targetVariables" : ["(Boson_Phi-recoilPFPuppiMet_Phi+TMath::Pi()) - 2.*TMath::Pi()*((Boson_Phi-recoilPFPuppiMet_Phi) > 0)"],
  	  "trainingVariables" : 
  	  [	
		"recoilPFMet_Pt",
		"recoilPFMet_Phi",
		"recoilPFMet_sumEt",
		"recoilPFCHSMet_Pt",
		"recoilPFCHSMet_Phi",
		"recoilPFCHSMet_sumEt",
		"recoilPFPuppiMet_Pt",
		"recoilPFPuppiMet_Phi",
		"recoilPFPuppiMet_sumEt",
                "recoilPFPuppiMet_ChargedPU_Pt",
		"recoilPFPuppiMet_ChargedPU_Phi",
		"recoilPFPuppiMet_ChargedPU_sumEt",
		"recoilPFPuppiMet_ChargedPV_Pt",
		"recoilPFPuppiMet_ChargedPV_Phi",
		"recoilPFPuppiMet_ChargedPV_sumEt",
		"recoilPFPuppiMet_NeutralPV_Pt",
		"recoilPFPuppiMet_NeutralPV_Phi",
		"recoilPFPuppiMet_NeutralPV_sumEt",
		"recoilPFPuppiMet_NeutralPU_Pt",
		"recoilPFPuppiMet_NeutralPU_Phi",
		"recoilPFPuppiMet_NeutralPU_sumEt",
		"LeadingJet_Phi",
		"LeadingJet_Eta",
		"LeadingJet_Pt",
		"TrailingJet_Phi",
		"TrailingJet_Eta",
		"TrailingJet_Pt",
		"NVertex",
		"NCleanedJets"]
  },
  "recoilTraining":
  {
  	  "mode" : 2,
  	  "friends" : ["PhiCorrectedRecoil"],
  	  "desc" : "Second training on Recoil",
  	  "apply_MVA_to" : "PhiCorrectedRecoil",
  	  "weight" : "(Boson_daughter==13)*(Boson_Pt>5)*(flatPtWeight*(flatPtWeight<10)+10*(flatPtWeight>=10))",
  	  "name" : "LongZCorrectedRecoil",
  	  "folder" : "Flat",
  	  "minEvents" : 250,
  	  "shrinkage" : 0.05,
  	  "minCutSignificance" : 3.0,
  	  "nTrees" : 1000,
  	  "weightfilename" : "RecoilCorrection_PUPPI.root",
  	  "targetVariables" : ["-Boson_Pt/PhiCorrectedRecoil_LongZ"],
  	  "trainingVariables" : 
  	  [	
		"recoilPFMet_Pt",
		"recoilPFMet_Phi",
		"recoilPFMet_sumEt",
		"recoilPFCHSMet_Pt",
		"recoilPFCHSMet_Phi",
		"recoilPFCHSMet_sumEt",
		"recoilPFPuppiMet_Pt",
		"recoilPFPuppiMet_Phi",
		"recoilPFPuppiMet_sumEt",
                "PhiCorrectedRecoil_Phi",
		"recoilPFPuppiMet_ChargedPU_Pt",
		"recoilPFPuppiMet_ChargedPU_Phi",
		"recoilPFPuppiMet_ChargedPU_sumEt",
		"recoilPFPuppiMet_ChargedPV_Pt",
		"recoilPFPuppiMet_ChargedPV_Phi",
		"recoilPFPuppiMet_ChargedPV_sumEt",
		"recoilPFPuppiMet_NeutralPV_Pt",
		"recoilPFPuppiMet_NeutralPV_Phi",
		"recoilPFPuppiMet_NeutralPV_sumEt",
		"recoilPFPuppiMet_NeutralPU_Pt",
		"recoilPFPuppiMet_NeutralPU_Phi",
		"recoilPFPuppiMet_NeutralPU_sumEt",
		"LeadingJet_Phi",
		"LeadingJet_Eta",
		"LeadingJet_Pt",
		"TrailingJet_Phi",
		"TrailingJet_Eta",
		"TrailingJet_Pt",
		"NVertex",
		"NCleanedJets"]
  },
  "CovApply" : {
    	"mode" : -1,
    	"friends" : ["RecoilCor", "CovU1", "CovU2"],
    	"desc" : "Covariance Matrix",
    	"apply_MVA_to" : "RecoilCor",
    	"name" : "CovApply"
  }

}
